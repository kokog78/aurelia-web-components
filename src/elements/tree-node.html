<template>
  <div class="ib-tree-node-header ${node.open ? 'ib-open' : ''} ${selectable && !node.selected ? 'ib-unselected' : ''} ${!clickable ? 'ib-nonclickable' : ''}">
    <span class="ib-tree-node-handler"
          if.bind="node.parent"
          click.trigger="reverse()"
          css="margin-left: ${padding}px"></span>
    <span class="ib-tree-node-dummy-handler"
          if.bind="!node.parent"
          css="margin-left: ${padding}px"></span>
    <input if.bind="selectable"
           type="checkbox"
           class="ib-tree-node-selector"
           checked.bind="node.selected"
           change.trigger="select()">
    <a href="" class="ib-tree-node-content" title="${node.tooltip}" click.trigger="clickLabel()">
      <span class="ib-tree-node-title">${node.title}</span>
      <span class="ib-tree-node-subtitle">${node.subtitle}</span>
    </a>
  </div>
  <div class="ib-tree-node-children" if.bind="node.open && node.children">
    <tree-node repeat.for="node of node.children"
               node.two-way="node"
               selectable.bind="selectable"
               clickable.bind="clickable"
               level.bind="childLevel"
               handler.bind="handler">
    </tree-node>
  </div>
</template>
